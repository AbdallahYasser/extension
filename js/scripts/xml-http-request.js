(function(){const h=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(b,a,c,e,f){a&&(0<=a.indexOf("/GetPlaybackResources")?this.addEventListener("loadend",d=>{window.postMessage({type:"/GetPlaybackResources",url:a,body:d.srcElement.response},window.origin)}):0<=a.indexOf("/GetVodPlaybackResources")&&this.addEventListener("loadend",d=>{window.postMessage({type:"/GetVodPlaybackResources",url:a,body:d.srcElement.response},window.origin)}));h.apply(this,[].slice.call(arguments))};
const g=window.fetch;window.fetch=(b,a)=>b&&0<=b.indexOf("/getDetailPage")?g(b,a).then(c=>new Promise(e=>{c.clone().json().then(f=>{e(c);window.postMessage({type:"/getDetailPage",url:b,data:f},window.origin)})})):g(b,a)})();
